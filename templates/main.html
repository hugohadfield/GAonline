<!DOCTYPE html>
<html>

 <head>
    <meta charset=utf-8>
    <title>GAOnline - A flask, clifford and threejs/javascript visualiser for (4,1) Conformal Geometric Algebra (CGA)</title>
    <meta name="google-site-verification" content="WXW9vG1sMxNwXMh_XKQ_8g98pQGMvxTY0yPIqxRlKgs" />
    <meta name="description" content="The key goal of this project is to be able to visualise conformal objects. With this visualiser there is minimal installation (none if you use a web deployed version!).">
    <meta name="keywords" content="Conformal Geometric Algebra, Geometric Algebra, conformal, geometry, visualiser, flask, javascript, python, clifford, Clifford Algebra">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <style>
            body { margin: 500; margin-right: 100; overflow: hidden}
            canvas { width: 100%; height: 100%; overflow: hidden}
            #overlay {
                background: rgba(0, 0, 0, .4);
                bottom: 0;
                left: 0;
                position: absolute;
                right: 0;
                top: 0;
                z-index: 10;
            }

            #overlay_text {
                background: white;
                margin: 20px auto 0;
                height: 100%;
                width: 70%;
            }
    </style>
</head>


<body>
    <div id="overlay">
        <div id="overlay_text">

        <input type="button" value="Hide Help" onClick="hide_overlay()">

        <h1>GAonline</h1>
        <p>A flask, clifford and threejs/javascript visualiser for (4,1) Conformal Geometric Algebra (CGA).</p>

        <p>Created by <a href="https://github.com/hugohadfield">Hugo Hadfield</a></p>

        <h1>Tutorial</h1>
        <p>A tutorial is available:</p>
        <a href="https://hugohadfield.github.io/GAonline/index.html">https://hugohadfield.github.io/GAonline/index.html</a>


        <p>The project is intentionally fairly barebones, although help on improving the interface would be very appreciated! The key goal of this project is to be able to visualise conformal objects that are very hard to think about otherwise. With this visualiser there is minimal installation (none if you use a web deployed version!) and the code is incredibly simple.</p>
        <br>
        <br>
        <h1>Setting up and running the server locally</h1>
        <h2>Only for advanced users</h2>
        <p>First clone this repository and ensure you have the required packages on your machine Flask>=0.12.1 clifford>=0.81</p>

        <p>The flask server can be started by running: </p>
        <p>python main.py</p>

        <p>It works very well when run locally, I find an especially useful combination is to use embedded chrome with a flask server as shown here: <a href="https://github.com/hugohadfield/cefFlask">https://github.com/hugohadfield/cefFlask</a> </p>

        <h1>A note on performance:</h1>
        <p>This is a very 'lazy' implementation in that it falls back on server side clifford to do all the heavy lifting, this would not be a good way of doing things for a real production site as it will be bandwidth and sever side heavy. </p>
        </div>
    </div>
<input type="button" value="Refresh Page" onClick="window.location.reload()">
<input type="button" value="Help" onClick="show_overlay()">
<div sytle="position: fixed; top: 8px; left: 16px;" id="frameCounterText">0</div>
<div id="scene3d"></div>
<div style="position: fixed; bottom: 0; left: 0; border: 0;">
    <textarea id="scriptTextArea" rows="30" cols="50" style="resize: none;" ></textarea>
    <div>
        Draw axes and floor: <input type="checkbox" id="axesCheck" checked="checked">
        <div>
            <button onclick="ParseUserScript()">Execute script</button>
            <button onclick="AnimateUserScript(100.0,0,true)">Animate script</button>
            <button onclick="CenterViewBtn()">Center view</button>
        </div>
        <div>
            <td><button onclick="loadFileAsText()">Load File</button><td>
            <input id="fileToLoad" type="file"/>
        </div>
    </div>
</div>


<script src="static/three.js"></script>
<script src="static/OrbitControls.js"></script>


<script>
// $(document).ready(function() {
//     var overlay = $('#overlay');
//     overlay.on('click', function (e) {
//         overlay
//             .hide()
//             .off();
//     });
// });

function show_overlay(){
    var overlay = $('#overlay');
    overlay.show().on();
}


function hide_overlay(){
    var overlay = $('#overlay');
    overlay.hide().off();
}



var defaultScript = `DrawSphere(-(3.0^e1234) - (2.0^e1235) + (2.0^e1245) - (1.0^e1345) + (1.0^e2345),rgb(255,0,0));
DrawPlane((0.57735^e1234) + (0.57735^e1235) - (0.57735^e1245) + (0.57735^e1345) - (0.57735^e2345),rgb(255,255,0));
DrawLine(-(0.70711^e124) - (0.70711^e125) - (0.70711^e145) - (0.70711^e245),rgb(255,0,255));
DrawCircle(-(0.07071^e124) + (0.07071^e125) - (0.07071^e134) + (0.07071^e135) + (0.70711^e145) + (0.07071^e234) - (0.07071^e235) - (0.70711^e245),rgb(0,0,255));
DrawPointPair((12.0^e12) - (16.0^e23) + (56.0^e24) + (60.0^e25),rgb(255,0,255));
DrawEucPoint(0.5^e1 + 0.5^e2 - 0.5^e3,rgb(255,0,0));`;
document.getElementById("scriptTextArea").value = defaultScript;

function loadFileAsText()
{
    var fileToLoad = document.getElementById("fileToLoad").files[0];

    var fileReader = new FileReader();
    fileReader.onload = function(fileLoadedEvent) 
    {
        var textFromFileLoaded = fileLoadedEvent.target.result;
        document.getElementById("scriptTextArea").value = textFromFileLoaded;
    };
    fileReader.readAsText(fileToLoad, "UTF-8");
}

</script>

<script  src="static/GAOnline.js"></script>



</body>
</html>
